<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <style>
        #id {
            margin-top: 3%;
        }

        body {
            background-image: url('img.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }

        .navbar {
            background-color: rgb(114, 26, 26);
            font-family: 'Press Start 2P', cursive;
            font-size: 20px;
            padding: 20px;
        }

        #myTable {
            font-family: 'Press Start 2P', cursive;
            color: white;
        }

        .navbar-brand {
            color: #ffd700;
            font-size: 40px;
        }

        .navbar-nav .nav-link {
            color: #fff;
            padding: 10px;
            transition: all 0.3s ease-in-out;
        }

        .navbar-nav .nav-link:hover {
            color: black;
            transform: scale(1.2);
        }
    </style>
    <title>Document</title>
</head>

<body>
    <audio id="mp3">
        <source src="music.mp3" type="audio/mpeg">
    </audio>
    <audio id="mp3_2">
        <source src="plin.mp3" type="audio/mpeg">
    </audio>
    <nav class="navbar navbar-expand-lg navbar-dark ">
        <a class="navbar-brand" href="test.html">MyGame</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="test.html">Buttons</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Characters</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Levels</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Shop</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Contact</a>
                </li>
            </ul>

        </div>

        <select name="" id="" class="">
            <option value="Easy">Easy</option>
            <option value="Medium">Medium</option>
            <option value="Hard">Hard</option>
        </select>
        <input type="button" value="Applica" class="btn-success btn" id="apply">
    </nav>

    <div id="id"> </div>
    <div class="container-fluid ">
        <div class="row justify-content-center">
            <label for="" class="text-white">Username</label>
        </div>
        <div class="row mt-1 justify-content-center">
            <input type="text">
        </div>
        <div class="row justify-content-center">
            <div class="Timer row mt-1 text-white"><i class="bi bi-stopwatch em-1"></i></div>
        </div>

        <div class="row mt-1 ">
            <button id="Start" class="btn btn-success offset-5 col-2">Inizia</button>
        </div>
        <div id="buttons">
            <div class="row mt-5 bg-opacity-100 justify-content-center">
                <button id="b1" class="col-3  btn btn-danger m-1" disabled></button>
                <button id="b2" class="col-3  btn btn-danger m-1" disabled></button>
                <button id="b3" class="col-3  btn btn-danger m-1" disabled><br></button>
            </div>
            <div class="row mt-5 justify-content-center">
                <button id="b4" class="col-3  btn btn-danger m-1" disabled></button>
                <button id="b5" class="col-3  btn btn-danger m-1" disabled></button>
                <button id="b6" class="col-3  btn btn-danger m-1" disabled><br></button>
            </div>
            <div class="row mt-5 justify-content-center">
                <button id="b7" class="col-3  btn btn-danger m-1" disabled></button>
                <button id="b8" class="col-3  btn btn-danger m-1" disabled></button>
                <button id="b9" class="col-3  btn btn-danger m-1" disabled><br></button>
            </div>
        </div>
        <div class="row mt-3">&nbsp</div>
        <div class="container col-3">
            <div class="row mt-5">
                <table class="table table-bordered text-center" id="myTable">
                    <tr>
                        <th>
                            Users
                        </th>
                        <th>
                            Score
                        </th>
                    </tr>
                </table>
            </div>
        </div>
    </div>





    <script>
        $('#apply').bind("click", function () {
            var diff = $('select').val()
            if (diff == "Easy") {
                $('#buttons button').each(function(){
                    $(this).attr("class","col-3  btn btn-danger m-1")
                })
            }
            else if (diff == "Medium") {
                
                $('#buttons button').each(function(){
                    $(this).attr("class","col-2 btn btn-danger m-3")
                })
            }
            else {
                $('#buttons button').each(function(){
                    $(this).attr("class","col-1 btn btn-danger m-5")
                })
            }
        })
        const b = ["b1", "b2", "b3", "b4", "b5", "b6", "b7", "b8", "b9"];
        var count = -1;
        const random = Math.floor(Math.random() * b.length);

        let startTime; // variable to store the start time
        let timerInterval; // variable to store the interval ID
        const maxTime = 7; // maximum time in seconds

        $('#Start').click(function () {
            var audio = document.getElementById("mp3");
            var startButton = document.getElementById("Start");
            audio.play();
            startTime = Date.now();
            timerInterval = setInterval(function () {
                const elapsedTime = Math.min(Math.floor((Date.now() - startTime) / 1000), maxTime);
                $('.Timer').text(`${elapsedTime}s`);
                if (elapsedTime === maxTime) {
                    $('.Timer').html("Hai cliccato ben " + `&nbsp <p class="text-success">  ${count}  </p>&nbsp ` + " volte");
                    clearInterval(timerInterval);
                    $('.container-fluid button').prop('disabled', true)
                    $('.container-fluid button').removeClass('btn-primary')
                    $('.container-fluid button').addClass('btn-danger')
                    $('#Start').addClass('btn-success')
                    $('#Start').removeClass('btn-danger')
                    $('#Start').prop('disabled', false)
                    $('#Start').text('Riprova!')

                    var table = $('#myTable')
                    var tr = $('<tr>');
                    var cell1 = $('<td>');
                    var cell2 = $('<td>');
                    cell1.text($('input').val())
                    cell2.text(count);
                    tr.append(cell1, cell2)
                    table.append(tr);
                    count = -1;
                }
            }, 1);
        });


        $('button').bind("click", function () {
            var audio = document.getElementById("mp3_2");
            audio.pause();
            audio.currentTime = 0
            audio.play();
            const random = Math.floor(Math.random() * b.length);
            $(this).prop('disabled', true)
            $(this).removeClass('btn-primary')
            $(this).addClass('btn-danger')
            $(`#${b[random]}`).prop('disabled', false)
            $(`#${b[random]}`).addClass('btn-primary')
            $(`#${b[random]}`).removeClass('btn-danger')
            count++;
        })





    </script>
</body>

</html>